{
  "type": "excalidraw",
  "version": 2,
  "source": "manual",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 180,
      "y": 10,
      "width": 500,
      "height": 30,
      "text": "Auto Epic — Agent Interaction & Context Model",
      "fontSize": 24,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 200,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "orchestrator-bg",
      "type": "rectangle",
      "x": 30,
      "y": 60,
      "width": 800,
      "height": 130,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#e1f5e1",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 201,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "roundness": { "type": 3 }
    },
    {
      "id": "orchestrator-label",
      "type": "text",
      "x": 40,
      "y": 65,
      "width": 400,
      "height": 20,
      "text": "Orchestrator (main context — full epic knowledge)",
      "fontSize": 14,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 202,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "orc-box",
      "type": "rectangle",
      "x": 50,
      "y": 95,
      "width": 760,
      "height": 80,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#ffffff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 203,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "roundness": { "type": 3 }
    },
    {
      "id": "orc-text",
      "type": "text",
      "x": 60,
      "y": 100,
      "width": 740,
      "height": 70,
      "text": "SKILL.md — Coordinates all phases, manages state file, enforces safety invariants\nKnows: Epic structure, dependency graph, execution order, all story statuses, coverage data\nDecides: When to spawn subagents, when to escalate, when to checkpoint with human\nPersists: State to docs/progress/epic-{id}-auto-run.md after every status change",
      "fontSize": 12,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 204,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "arrow-skill-down",
      "type": "arrow",
      "x": 200,
      "y": 190,
      "width": 0,
      "height": 60,
      "points": [[0, 0], [0, 60]],
      "strokeColor": "#7048e8",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 205,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "endArrowhead": "arrow",
      "startArrowhead": null
    },
    {
      "id": "arrow-skill-label",
      "type": "text",
      "x": 210,
      "y": 208,
      "width": 180,
      "height": 16,
      "text": "Skill tool (inline, same ctx)",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#7048e8",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 206,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "devstory-bg",
      "type": "rectangle",
      "x": 30,
      "y": 260,
      "width": 380,
      "height": 110,
      "strokeColor": "#7048e8",
      "backgroundColor": "#f0e8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 207,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "roundness": { "type": 3 }
    },
    {
      "id": "devstory-label",
      "type": "text",
      "x": 40,
      "y": 265,
      "width": 350,
      "height": 20,
      "text": "/bmad-bmm-dev-story (inline skill — shared context)",
      "fontSize": 13,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#5f3dc4",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 208,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "devstory-text",
      "type": "text",
      "x": 50,
      "y": 295,
      "width": 340,
      "height": 65,
      "text": "Writes tests first (tdd-guard enforces)\nImplements story code\nRuns tests until passing\nAll hooks active (arch, import, format, type)\nReturns control to orchestrator when done",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 209,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "arrow-reviewer-down",
      "type": "arrow",
      "x": 580,
      "y": 190,
      "width": 0,
      "height": 120,
      "points": [[0, 0], [0, 120]],
      "strokeColor": "#4466cc",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 210,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "endArrowhead": "arrow",
      "startArrowhead": null
    },
    {
      "id": "arrow-reviewer-label",
      "type": "text",
      "x": 590,
      "y": 235,
      "width": 220,
      "height": 16,
      "text": "Task tool (fresh context, isolated)",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#4466cc",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 211,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "reviewer-bg",
      "type": "rectangle",
      "x": 450,
      "y": 320,
      "width": 380,
      "height": 130,
      "strokeColor": "#4466cc",
      "backgroundColor": "#e8f0ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 212,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "roundness": { "type": 3 }
    },
    {
      "id": "reviewer-label",
      "type": "text",
      "x": 460,
      "y": 325,
      "width": 350,
      "height": 20,
      "text": "epic-reviewer (subagent — fresh context each round)",
      "fontSize": 13,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#4466cc",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 213,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "reviewer-text",
      "type": "text",
      "x": 470,
      "y": 355,
      "width": 340,
      "height": 80,
      "text": "NO implementation history (adversarial by design)\nDiffs branch vs base (sees fixer commits)\nReads story file for AC compliance\nWrites findings to docs/progress/story-{id}-review-*.md\nTools: Read, Glob, Grep, Bash, Write\nDisallowed: Edit, Task",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 214,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "findings-doc",
      "type": "rectangle",
      "x": 310,
      "y": 475,
      "width": 250,
      "height": 40,
      "strokeColor": "#868e96",
      "backgroundColor": "#f5f5f5",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 215,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "roundness": { "type": 3 }
    },
    {
      "id": "findings-text",
      "type": "text",
      "x": 330,
      "y": 482,
      "width": 210,
      "height": 26,
      "text": "Findings Document (on disk)\nCritical / Important / Minor",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "center",
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 216,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "arrow-fixer-down",
      "type": "arrow",
      "x": 435,
      "y": 515,
      "width": 0,
      "height": 50,
      "points": [[0, 0], [0, 50]],
      "strokeColor": "#cc4466",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 217,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "endArrowhead": "arrow",
      "startArrowhead": null
    },
    {
      "id": "arrow-fixer-label",
      "type": "text",
      "x": 445,
      "y": 530,
      "width": 80,
      "height": 14,
      "text": "reads findings",
      "fontSize": 10,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#cc4466",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 218,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "fixer-bg",
      "type": "rectangle",
      "x": 250,
      "y": 575,
      "width": 380,
      "height": 120,
      "strokeColor": "#cc4466",
      "backgroundColor": "#ffe8f0",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 219,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false,
      "roundness": { "type": 3 }
    },
    {
      "id": "fixer-label",
      "type": "text",
      "x": 260,
      "y": 580,
      "width": 350,
      "height": 20,
      "text": "epic-fixer (subagent — guided by findings)",
      "fontSize": 13,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#cc4466",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 220,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "fixer-text",
      "type": "text",
      "x": 270,
      "y": 610,
      "width": 340,
      "height": 72,
      "text": "Fixes Critical first, then Important, then Minor\nRuns npm test after each logical group\nCommits locally (no push during review loop)\nAll hooks still active during fixes\nTools: Read, Glob, Grep, Bash, Write, Edit\nDisallowed: Task (no sub-subagents)",
      "fontSize": 11,
      "fontFamily": 3,
      "textAlign": "left",
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 221,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    },
    {
      "id": "loop-annotation",
      "type": "text",
      "x": 660,
      "y": 485,
      "width": 170,
      "height": 50,
      "text": "Review-Fix Loop\nMax 3 rounds (hard cap 5)\nNew reviewer each round\nFixer commits stay local",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "left",
      "strokeColor": "#868e96",
      "backgroundColor": "transparent",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 0,
      "opacity": 100,
      "angle": 0,
      "seed": 222,
      "version": 1,
      "groupIds": [],
      "boundElements": [],
      "updated": 1,
      "link": null,
      "locked": false
    }
  ],
  "appState": {
    "gridSize": null,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}
